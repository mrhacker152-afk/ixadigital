{
  "timestamp": "2026-01-30T07:17:54.846307",
  "total_tests": 22,
  "passed_tests": 21,
  "success_rate": 95.45454545454545,
  "test_results": [
    {
      "test_name": "Root API Endpoint",
      "method": "GET",
      "endpoint": "api/",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": {
        "message": "IXA Digital API"
      },
      "error": null
    },
    {
      "test_name": "SEO Config Endpoint",
      "method": "GET",
      "endpoint": "api/seo-config",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": {
        "site_title": "IXA Digital - Test Title",
        "site_description": "Test description for SEO",
        "keywords": "test, seo, digital marketing",
        "google_analytics_id": "G-TEST123456",
        "google_site_verification": "test-verification-code",
        "og_image": "https://example.com/test-image.jpg",
        "twitter_handle": "@ixadigital_test"
      },
      "error": null
    },
    {
      "test_name": "Sitemap XML",
      "method": "GET",
      "endpoint": "api/sitemap.xml",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": "<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<urlset xmlns=\"http://www.sitemaps.org/schemas/sitemap/0.9\">\n    <url>\n        <loc>https://your-domain.com/</loc>\n        <lastmod>2026-01-30</lastmod>\n        <changefreq>weekly</changefreq>\n        <priority>1.0</priority>\n    </url>\n    <url>\n        <loc>https://your-domain.com/admin/login</loc>\n        <lastmod>2026-01-30</lastmod>\n        <changefreq>monthly</changefreq>\n        <priority>0.3</priority>\n    </url>\n</urlset>",
      "error": null
    },
    {
      "test_name": "Contact Form Submission",
      "method": "POST",
      "endpoint": "api/contact",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": {
        "success": true,
        "message": "Thank you for your inquiry! We'll get back to you within 24 hours.",
        "id": "09081533-d5ff-427f-9082-1ad08ffae825"
      },
      "error": null
    },
    {
      "test_name": "Support Ticket Creation",
      "method": "POST",
      "endpoint": "api/support-ticket",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": {
        "success": true,
        "message": "Support ticket created successfully",
        "ticket_number": "TKT-000006",
        "ticket_id": "5408ea6d-bdea-4673-bab5-0af89c1b5034"
      },
      "error": null
    },
    {
      "test_name": "Admin Login",
      "method": "POST",
      "endpoint": "api/admin/login",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": {
        "success": true,
        "message": "Login successful",
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbiIsImV4cCI6MTc2OTg0Mzg3NH0.5i_2IKP99WYSnYI2MDWaanalkckMBji79tzGPMR-TWA",
        "admin": {
          "username": "admin",
          "id": "697c52bb63b4988556714922"
        }
      },
      "error": null
    },
    {
      "test_name": "Admin Stats",
      "method": "GET",
      "endpoint": "api/admin/stats",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": {
        "success": true,
        "stats": {
          "submissions": {
            "total": 3,
            "new": 3,
            "read": 0,
            "contacted": 0
          },
          "tickets": {
            "total": 6,
            "open": 3,
            "in_progress": 3,
            "resolved": 0
          }
        }
      },
      "error": null
    },
    {
      "test_name": "Admin Submissions",
      "method": "GET",
      "endpoint": "api/admin/submissions",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": {
        "success": true,
        "count": 3,
        "submissions": [
          {
            "_id": "697c5b21dfa7e1e5e3b0635d",
            "id": "09081533-d5ff-427f-9082-1ad08ffae825",
            "name": "Test User",
            "email": "test@example.com",
            "phone": "+919876543210",
            "service": "web-development",
            "message": "This is a test message for contact form submission.",
            "created_at": "2026-01-30T07:17:53.924000",
            "status": "new"
          },
          {
            "_id": "697c54c703f5d70f871b6c4e",
            "id": "61196679-7f7e-41d9-86bf-53b5899e6043",
            "name": "John Smith",
            "email": "john@example.com",
            "phone": "+1234567890",
            "service": "web-development",
            "message": "I need a new website for my business",
            "created_at": "2026-01-30T06:50:47.655000",
            "status": "new"
          },
          {
            "_id": "697c537f03f5d70f871b6c4d",
            "id": "3c8a8c75-8717-4b1d-958e-7ad44cbc5637",
            "name": "Test User Frontend",
            "email": "frontend@test.com",
            "phone": "+919876543210",
            "service": "web-development",
            "message": "This is a test message from frontend automation testing.",
            "created_at": "2026-01-30T06:45:19.710000",
            "status": "new"
          }
        ]
      },
      "error": null
    },
    {
      "test_name": "Admin Tickets",
      "method": "GET",
      "endpoint": "api/admin/tickets",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": {
        "success": true,
        "count": 6,
        "tickets": [
          {
            "_id": "697c5b21dfa7e1e5e3b0635e",
            "id": "5408ea6d-bdea-4673-bab5-0af89c1b5034",
            "ticket_number": "TKT-000006",
            "customer_name": "Test Customer",
            "customer_email": "customer@example.com",
            "customer_phone": "+919876543210",
            "category": "Technical Support",
            "subject": "Test Support Ticket",
            "description": "This is a test support ticket for API testing.",
            "status": "open",
            "priority": "medium",
            "created_at": "2026-01-30T07:17:53.964000",
            "updated_at": "2026-01-30T07:17:53.964000",
            "replies": []
          },
          {
            "_id": "697c5aacdfa7e1e5e3b0635c",
            "id": "da618649-d4e7-4e37-b711-65d9f4bf6181",
            "ticket_number": "TKT-000005",
            "customer_name": "Portal Test User",
            "customer_email": "portal@test.com",
            "customer_phone": "+1234567890",
            "category": "General Inquiry",
            "subject": "Testing customer portal",
            "description": "This is a test ticket for the customer portal",
            "status": "open",
            "priority": "medium",
            "created_at": "2026-01-30T07:15:56.960000",
            "updated_at": "2026-01-30T07:16:23.274000",
            "replies": [
              {
                "author": "Portal Test User",
                "message": "Thank you for your help!",
                "created_at": "2026-01-30T07:16:23.274000",
                "is_admin": false
              }
            ]
          },
          {
            "_id": "697c597bd176fa2e968d5668",
            "id": "57dc3779-e744-4369-ab80-487b02b08631",
            "ticket_number": "TKT-000004",
            "customer_name": "Test User",
            "customer_email": "test@example.com",
            "customer_phone": "+1234567890",
            "category": "Technical Support",
            "subject": "Test ticket",
            "description": "Testing support ticket system",
            "status": "open",
            "priority": "medium",
            "created_at": "2026-01-30T07:10:51.008000",
            "updated_at": "2026-01-30T07:10:51.008000",
            "replies": []
          },
          {
            "_id": "697c58e0d176fa2e968d5667",
            "id": "d05f255c-c2fb-4eb7-98e2-1bb25c0ed87d",
            "ticket_number": "TKT-000003",
            "customer_name": "Test Customer",
            "customer_email": "customer@example.com",
            "customer_phone": "+919876543210",
            "category": "Technical Support",
            "subject": "Test Support Ticket",
            "description": "This is a test support ticket for API testing.",
            "status": "in_progress",
            "priority": "high",
            "created_at": "2026-01-30T07:08:16.571000",
            "updated_at": "2026-01-30T07:08:17.085000",
            "replies": [
              {
                "author": "admin",
                "message": "This is a test reply from admin.",
                "created_at": "2026-01-30T07:08:17.051000",
                "is_admin": true
              }
            ]
          },
          {
            "_id": "697c58d1d176fa2e968d5665",
            "id": "50ef732e-7e9b-40bf-b398-88a737dbadd6",
            "ticket_number": "TKT-000002",
            "customer_name": "Test Customer",
            "customer_email": "customer@example.com",
            "customer_phone": "+919876543210",
            "category": "Technical Support",
            "subject": "Test Support Ticket",
            "description": "This is a test support ticket for API testing.",
            "status": "in_progress",
            "priority": "high",
            "created_at": "2026-01-30T07:08:01.235000",
            "updated_at": "2026-01-30T07:08:01.804000",
            "replies": [
              {
                "author": "admin",
                "message": "This is a test reply from admin.",
                "created_at": "2026-01-30T07:08:01.725000",
                "is_admin": true
              }
            ]
          },
          {
            "_id": "697c58c1d176fa2e968d5663",
            "id": "b5b7f7db-f8b6-469f-8b20-0659847451e4",
            "ticket_number": "TKT-000001",
            "customer_name": "Test Customer",
            "customer_email": "customer@example.com",
            "customer_phone": "+919876543210",
            "category": "Technical Support",
            "subject": "Test Support Ticket",
            "description": "This is a test support ticket for API testing.",
            "status": "in_progress",
            "priority": "high",
            "created_at": "2026-01-30T07:07:45.272000",
            "updated_at": "2026-01-30T07:07:45.844000",
            "replies": [
              {
                "author": "admin",
                "message": "This is a test reply from admin.",
                "created_at": "2026-01-30T07:07:45.808000",
                "is_admin": true
              }
            ]
          }
        ]
      },
      "error": null
    },
    {
      "test_name": "Get Admin Settings",
      "method": "GET",
      "endpoint": "api/admin/settings",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": {
        "success": true,
        "settings": {
          "_id": "697c57c7b51ff1a675b832b4",
          "id": "5f6a2010-c0a3-499c-a0d2-a73ef0d41d2f",
          "email_settings": {
            "smtp_host": "smtp.gmail.com",
            "smtp_port": 587,
            "smtp_user": "test@example.com",
            "smtp_password": "testpassword",
            "from_email": "test@example.com",
            "from_name": "IXA Digital Test",
            "notification_recipients": [
              "admin@ixadigital.com"
            ],
            "enabled": false
          },
          "seo_settings": {
            "site_title": "IXA Digital - Test Title",
            "site_description": "Test description for SEO",
            "keywords": "test, seo, digital marketing",
            "google_analytics_id": "G-TEST123456",
            "google_site_verification": "test-verification-code",
            "og_image": "https://example.com/test-image.jpg",
            "twitter_handle": "@ixadigital_test"
          },
          "updated_at": "2026-01-30T07:08:17.014000",
          "updated_by": "admin"
        }
      },
      "error": null
    },
    {
      "test_name": "Update Admin Settings",
      "method": "PUT",
      "endpoint": "api/admin/settings",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": {
        "success": true,
        "message": "Settings updated successfully"
      },
      "error": null
    },
    {
      "test_name": "Ticket Reply",
      "method": "POST",
      "endpoint": "api/admin/tickets/5408ea6d-bdea-4673-bab5-0af89c1b5034/reply",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": {
        "success": true,
        "message": "Reply added successfully"
      },
      "error": null
    },
    {
      "test_name": "Update Ticket Status",
      "method": "PATCH",
      "endpoint": "api/admin/tickets/5408ea6d-bdea-4673-bab5-0af89c1b5034/status?status=in_progress&priority=high",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": {
        "success": true,
        "message": "Ticket updated successfully"
      },
      "error": null
    },
    {
      "test_name": "Track Ticket - Valid Credentials",
      "method": "POST",
      "endpoint": "api/track-ticket?ticket_number=TKT-000006&customer_email=customer@example.com",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": {
        "success": true,
        "ticket": {
          "_id": "697c5b21dfa7e1e5e3b0635e",
          "id": "5408ea6d-bdea-4673-bab5-0af89c1b5034",
          "ticket_number": "TKT-000006",
          "customer_name": "Test Customer",
          "customer_email": "customer@example.com",
          "customer_phone": "+919876543210",
          "category": "Technical Support",
          "subject": "Test Support Ticket",
          "description": "This is a test support ticket for API testing.",
          "status": "in_progress",
          "priority": "high",
          "created_at": "2026-01-30T07:17:53.964000",
          "updated_at": "2026-01-30T07:17:54.515000",
          "replies": [
            {
              "author": "admin",
              "message": "This is a test reply from admin.",
              "created_at": "2026-01-30T07:17:54.468000",
              "is_admin": true
            }
          ]
        }
      },
      "error": null
    },
    {
      "test_name": "Customer Reply - Valid",
      "method": "POST",
      "endpoint": "api/ticket/5408ea6d-bdea-4673-bab5-0af89c1b5034/customer-reply?reply_message=This is a test customer reply from API testing.&customer_email=customer@example.com",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": {
        "success": true,
        "message": "Reply added successfully"
      },
      "error": null
    },
    {
      "test_name": "Close Ticket for Reply Test",
      "method": "PATCH",
      "endpoint": "api/admin/tickets/5408ea6d-bdea-4673-bab5-0af89c1b5034/status?status=closed",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": {
        "success": true,
        "message": "Ticket updated successfully"
      },
      "error": null
    },
    {
      "test_name": "Customer Reply - Closed Ticket",
      "method": "POST",
      "endpoint": "api/ticket/5408ea6d-bdea-4673-bab5-0af89c1b5034/customer-reply?reply_message=This reply should be blocked on closed ticket&customer_email=customer@example.com",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": {
        "success": true,
        "message": "Reply added successfully"
      },
      "error": null
    },
    {
      "test_name": "Track Ticket - Invalid Credentials",
      "method": "POST",
      "endpoint": "api/track-ticket?ticket_number=TKT-999999&customer_email=invalid@example.com",
      "expected_status": 404,
      "actual_status": 404,
      "success": true,
      "response_data": {
        "detail": "Ticket not found or email doesn't match"
      },
      "error": null
    },
    {
      "test_name": "Customer Reply - Invalid Credentials",
      "method": "POST",
      "endpoint": "api/ticket/invalid-id/customer-reply?reply_message=This should fail&customer_email=invalid@example.com",
      "expected_status": 404,
      "actual_status": 404,
      "success": true,
      "response_data": {
        "detail": "Ticket not found or email doesn't match"
      },
      "error": null
    },
    {
      "test_name": "Update Submission Status",
      "method": "PATCH",
      "endpoint": "api/admin/submissions/09081533-d5ff-427f-9082-1ad08ffae825/status?status=read",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": {
        "success": true,
        "message": "Status updated successfully"
      },
      "error": null
    },
    {
      "test_name": "Delete Submission",
      "method": "DELETE",
      "endpoint": "api/admin/submissions/09081533-d5ff-427f-9082-1ad08ffae825",
      "expected_status": 200,
      "actual_status": 200,
      "success": true,
      "response_data": {
        "success": true,
        "message": "Submission deleted successfully"
      },
      "error": null
    },
    {
      "test_name": "Unauthorized Access Test",
      "method": "GET",
      "endpoint": "api/admin/submissions",
      "expected_status": 401,
      "actual_status": 403,
      "success": false,
      "response_data": null,
      "error": {
        "detail": "Not authenticated"
      }
    }
  ]
}